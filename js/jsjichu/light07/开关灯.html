<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>开关灯</title>
	<style>
	</style>
</head>
<body>
	<!-- 游戏容器 -->
	<div id="wrap" style="width: 520px; height: 520px; font-size: 0; margin: 100px auto;">	
	</div>
    <script>
    	//创造元素
	var wrap = document.getElementById('wrap');//获取wrap
	var eleArr=[];//声明数组，盛放所有新创建的div
	for(i=0;i<100;i++){
        var newDiv = document.createElement('div');//创建一个div
        newDiv.style.width = '50px';
        newDiv.style.height = '50px';
        newDiv.style.border = '1px solid #eee';
        newDiv.style.background = 'black';
        newDiv.style.display = 'inline-block';
        newDiv.onclick = function(){
        	eleClick(this);
        	// console.log(this);//this变量：指向当前函数的所有者
        }
        wrap.appendChild(newDiv);//将newDiv插入到wrap中去
        eleArr.push(newDiv);
	}
	//为每一个元素绑定点击事件
	function eleClick(ele){
		
		//获取当前点击元素在数组里的位置，根据这个位置判断上下左右的元素
        console.log(eleArr.indexOf(ele));
        var thisIndex = eleArr.indexOf(ele);
        judgeBg(ele);
        //排除最上面一排元素，判断其他元素的上方元素的背景色
        if(thisIndex > 9){
        	judgeBg(eleArr[thisIndex - 10]);
        }
        //排除最下面一排元素，判断其他元素下方元素的背景色
        if(thisIndex < 90){
            judgeBg(eleArr[thisIndex + 10]);	
        }
        //排除最左边的一列元素，判断其他元素左边元素的背景色
        if(thisIndex % 10 != 0 ){
            judgeBg(eleArr[thisIndex - 1]);
        }
        //排除最右边的一列元素，判断其他元素右边元素的背景色
        if(thisIndex % 10!= 9){
            judgeBg(eleArr[thisIndex + 1]);
        }
	}
	function judgeBg(a){
		//在这个函数中的a相当于eleClick里的ele
		var bg = a .style.background;//获取当前背景色
		//判断背景色
		if(bg  == 'black'){
		   a.style.background = 'yellow';
		}
		else{
		   a.style.background = 'black';
		}
	}
    </script>
</body>
</html>