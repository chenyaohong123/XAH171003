<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			.wrap div {
				border-radius: 50%;
				transition: 0.5s;
				box-shadow: 0 0 50px rgb(108, 203, 205);
			}
			
			button {
				background: rgb(95, 195, 249);
				border-radius: 5px;
				color: white;
				border: 1px solid white;
			}
			
			.box2 {
				width: 100%;
				text-align: center;
			}
			.box1{
				background: lightblue;
			}
			.box3{
				background: pink;
			}
			
		</style>
	</head>

	<body>
		<div class="wrap" style="width: 520px; height: 520px; font-size: 0; margin: 100px auto; ">
		</div>
		<div class="box2">
			<button class="btn1">初级</button>
			<button class="btn2">中级</button>
			<button class="btn3">高级</button>
		</div>
	</body>
	<script type="text/javascript" src="../jq19/jquery-3.2.1.min.js"></script>
	<script>
		var rowNum = 0;
		var colNum = 0;
		var itemWidth = 0;
		var itemHeight = 0;

		$('.btn1').click(function() {
			rowNum = 5;
			colNum = 5;
			itemWidth = 50;
			itemHeight = 50
			btn11();
		});
		
		$('.btn2').click(function() {
			rowNum = 12;
			colNum = 13;
			itemWidth = 40;
			itemHeight = 40
			btn11();
		});
		
		$('.btn3').click(function() {
			rowNum = 10;
			colNum = 15;
			itemWidth = 35;
			itemHeight = 35;
			btn11();
		});
		
		var eleArr = [];
		function btn11(){
			$('.wrap').empty();
			eleArr = [];
			$('.wrap').css({
				'width':colNum*(itemWidth+2) + 'px',
				'height':rowNum*(itemHeight+2) + 'px'
			});
			 for(i=0;i < rowNum * colNum;i++){
			  var newDiv = $('<div class="box1"></div>');	
			  $(newDiv).css({
			  	'width' : itemWidth + 'px',
			  	'height':itemHeight + 'px',
			  	'border':'1px solid #eee',
			  	'display':'inline-block'
			  });
			  $(newDiv).click(function(){
			  	eleClick(this);
			  });
			  $('.wrap').append(newDiv);
			  eleArr.push(newDiv[0]);
			 }
		}
		
		function eleClick(a){
			var thisIndex = eleArr.indexOf(a);
			judgeBg(a);
			if(thisIndex > colNum - 1){
				judgeBg(eleArr[thisIndex-colNum]);
			}
			if(thisIndex < rowNum * colNum - colNum){
            judgeBg(eleArr[thisIndex + colNum]);	
        }
			if(thisIndex % colNum != 0 ){
            judgeBg(eleArr[thisIndex - 1]);
        }
			if((thisIndex+1)%colNum !=0){
				judgeBg(eleArr[thisIndex+1]);
			}
			
		}
		
		function judgeBg(b){	
		 	$(b).toggleClass('box1 box3');
		}
		
	</script>

</html>