<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>移动</title>
	<style>
		#box1{
			width: 500px;
			height: 500px;
			border:5px solid lightblue;
			position: relative;
			overflow: hidden;
			background:-webkit-gradient(linear, 0 0, 0 bottom, from(rgb(134,215,255)), to(rgba(51, 99, 213, 0.5)));
		}
		#box2{
			width: 150px;
			height: 150px;
			border:5px solid yellow;
			display: none;
			position: absolute;
		}
	</style>
</head>
<body>
	<div id="box1">
		<dic id="box2"></dic>
	</div>
	<script>
	    var box1 = document.getElementById('box1');
	    var box2 = document.getElementById('box2');
	    box1.onmouseover = function(){
	    	box2.style.display = 'block';

	    document.onmousemove = function(){
	    	var e =  event || window.event;
	    	box2.style.left = e.clientX - box2. offsetWidth/2-box1.offsetLeft-5 + 'px';
	    	box2.style.top  = e.clientY - box2. offsetHeight/2-box1.offsetTop-5 + 'px';
	    	console.log(e);
	    	if(e.clientX<box2. offsetWidth/2+5+box1.offsetLeft){
	    	box2.style.left = 0;
	    	}
	    	if(e.clientY<box2. offsetWidth/2+5+box1.offsetTop){
	    	box2.style.top  = 0;
	    	}
	    	if(e.clientX>box1.offsetWidth+box1.offsetLeft-box2. offsetWidth/2-5){
	    	box2.style.left = box1.clientWidth-box2.offsetWidth + 'px';
	    	}
	    	if(e.clientY>box1.offsetHeight+box1.offsetTop-box2. offsetHeight/2-5){
	    	box2.style.top  = box1.clientHeight-box2.offsetHeight+ 'px';
	    	}
	    }
	    }
        
        //为box1绑定鼠标移出事件。(不生效原因：box2本身也是box1的一部分)
	    document.onmouseout    = function(){
	    	box2.style.display = 'none';
	    }
	   
	</script>
</body>
</html>