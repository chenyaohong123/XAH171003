<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>canvas+ 面向对象 +碰壁反弹</title>
		<style type="text/css">
			#myCanvas2{
				background: black;
				display:block;
				margin: 0 auto;
			}
		</style>
	</head>
	<body>
		<canvas id="myCanvas2" width="1000" height="600">
			您的浏览器不支持canvas，赶快更新版本吧!
		</canvas>
	</body>
    <script type="text/javascript">
    	      var mc = document.getElementById('myCanvas2');
		  var ctx= mc.getContext('2d');
		  var minX = 5,maxX = mc.width  - 5;
		  var minY = 5,maxY = mc.height - 5;
		  var minR = 1,maxR = 3;
		  function rn(x,y){
		  	return Math.round(Math.random()*(y-x)+x);
		  }
//		  //封装球类
//		  /*
//		   * Ball(): 小球类
//		   * x,y 小球圆心坐标
//		   * r   小球半径
//		   */
//		  function Ball(x,y,r){
//		  	this.x = x;
//		  	this.y = y;
//		  	this.r = r;
//		  }
//		  
//		  
//		  //Ball的原型方法
//		  Ball.prototype.draw = function(){
// 		    ctx.beginPath();
//			ctx.arc(this.x,this.y,this.r,0,2*Math.PI);
//			ctx.fillStyle = 'blue';			
//			ctx.fill();
//		}
//		  //实例化小球
//		var ballArr = [];
////		var ballArr2 =[];
//		
//		  function createBall(){
//		  	var x = rn(minX,maxX);
//		  	var y = rn(minY,maxY);
//		  	var r1 = rn(minR,maxR);
//	  	    var newBall = new Ball(x,y,r1);
//		  	ballArr.push(newBall);
//		  }
//		  
////		  var r2 = 1;
////		  function createBall2(){
////		  	if(r2<=1){
////		  	r2+=0.01;	
////		  	}		  	
////		  	if(r2>=2){
////	  	    	r2-=0.01;
////	  	    }
////		  	var x = rn(minX,maxX);
////		  	var y = rn(minY,maxY);			  			  	
////	  	    var newBall = new Ball(x,y,r2);	  	    
////		  	ballArr2.push(newBall);
////		  }
////		  		  
//        	for(var i = 0;i<200;i++){
//		  	createBall();		  	
//		    }
//        	
//////        	for(var i = 0;i<100;i++){
//////		  	createBall2();		  	
////		    }
//        	
//		  setInterval(function(){		  
//		  	for(var i=0;i<ballArr.length;i++){		  		
//		  		ballArr[i].draw();
//		  	}           	
//          
//		   },500);

            function createBall(){
		  	var x = rn(minX,maxX);
		  	var y = rn(minY,maxY);
		  	var r = rn(minR,maxR);
//		  	ctx.shadowOffsetX = 0; // 设置水平位移
//          ctx.shadowOffsetY = 0; // 设置垂直位移
//          ctx.shadowBlur = 50; // 设置模糊度
//          ctx.shadowColor = 'white'; // 设置阴影颜色
	  	    ctx.beginPath();
			ctx.arc(x,y,r,0,2*Math.PI);			
			ctx.fillStyle = 'blue';				
			ctx.fill();			
		     }
                    
           setInterval(function(){
           	ctx.clearRect(0,0,1000,600);
		  	for(var i=0;i<200;i++){		  		
		  		createBall();
		  	}           	
            
		   },500);








//		  //分装计算2个点距离的函数
//		  function getDis(ball1,ball2){
//		  	  //根据位置
//		  	  var  dis =Math.sqrt(Math.pow(ball1.x-ball2.x,2)+Math.pow(ball1.y-ball2.y,2));
//		      //返回值
//		      if(dis <=40){
//		      	return true;
//		      }
//		      else{
//		      	return false;
//		      }
//		     }
//		      
//		     //两点之间画线的函数、
//		     function drawLine(ball1,ball2){
//		     	ctx.beginPath();
//		     	ctx.moveTo(ball1.x,ball1.y);
//		     	ctx.lineTo(ball2.x,ball2.y);
////		     	ctx.strokeStyle = 'rgba('+rn(30,255)+','+rn(30,255)+','+rn(30,255)+',0.8)';
//              ctx.strokeStyle = 'lightcyan';
//		     	ctx.stroke();
//		     }
//		  //用循环计算两个小球之间的圆心距
//		  function jugeTwoBall(){
//		  	for(var i=0;i<ballArr.length-1;i++){
//		  		for(var j=i+1;j<ballArr.length;j++){
//		  			//ballArr[i] , ballArr[j];
//		  		var bol = getDis(ballArr[i],ballArr[j]);//返回布尔值
//		  		if(bol){
//		  			//画线
//		  			drawLine(ballArr[i],ballArr[j]);
//		  		}
//		  		}
//		  	}
//		  }
		  
		 
		 
    </script>
</html>
