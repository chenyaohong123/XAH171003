<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>圆形碰撞</title>
		<style type="text/css">
			#myCanvas2{
				background: black;
				display:block;
				margin: 0 auto;
			}
		</style>
	</head>
	<body>
		<canvas id="myCanvas2" width="1000" height="600">
			您的浏览器不支持canvas，赶快更新版本吧!
		</canvas>
	</body>
	<script type="text/javascript">
		var mc = document.getElementById('myCanvas2');
		var ctx= mc.getContext('2d');
		
		//第一个圆 固定
		function createBall(){
		ctx.beginPath();
		var g1 = ctx.createRadialGradient(450,250,0,500,300,150);
		g1.addColorStop('0','skyblue');
		g1.addColorStop('1','blue');
		ctx.arc(500,300,100,0,2*Math.PI);
		ctx.fillStyle = g1;
		ctx.fill();	
		}
		
		//第二个圆
		mc.onmousemove = function(){
		ctx.clearRect(0,0,1000,600);
		createBall();
		var e = event || window.event;
		var ox = e.clientX - mc.offsetLeft;
		var oy = e.clientY - mc.offsetTop;
		//碰撞检测
		//圆心距
		var dis =Math.sqrt(Math.pow(ox - 500,2) + Math.pow(oy - 300,2));
		//半径和
		var r1R2 = 150;
		var g2;
		if(dis<=r1R2){
			//碰撞上
		g2 = ctx.createRadialGradient(ox-30,oy-30,0,ox,oy,70);
		g2.addColorStop('0','yellow');
		g2.addColorStop('1','orange');
		}
		else{
		g2 = ctx.createRadialGradient(ox-30,oy-30,0,ox,oy,70);
		g2.addColorStop('0','lightgreen');
		g2.addColorStop('1','green');	
		}
		ctx.beginPath();
		ctx.arc(ox,oy,50,0,2*Math.PI);
		ctx.fillStyle = g2;
		ctx.fill();
		}
		
		
		
	</script>
</html>
